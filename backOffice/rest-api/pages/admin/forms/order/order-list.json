{
	"index": [{
			"type": "filter",
			"fields": {
				"tarih": { "text": "Tarih", "type": "dateRange" }
			}
		},
		{
			"type": "grid",
			"fields": {
				"customerName": { "text": "Cari Ünvan", "type": "string", "width": "80px" },
				"orderNo": { "text": "Sipariş No", "type": "string", "width": "80px" },
				"orderNo": { "text": "Sipariş No", "type": "string", "width": "80px" },
				"orderType": { "text": "Türü", "type": "lookup", "staticValues": "orderTypes", "width": "120px" },
				"orderKey": { "text": "Sipariş Anahtarı", "type": "string" },
				"orderDate": { "text": "Sipariş Tarihi", "type": "string", "width": "150px", "html": "${orderDate}<small class=\"text-primary ${caseDate!=''?'d-flex':'d-none'}\">Vaka Tar.: ${caseDate}</small>" },
				"kalem": { "text": "Kalem", "type": "string", "headerClass":"text-end", "class":"text-end", "html": "${orderLine.length}" },
				"toplamMiktar": { "text": "T.Miktar", "type": "string", "headerClass":"text-end", "class":"text-end", "html": "${orderLine.reduce((acc,e)=>acc+e.quantity, 0).formatMoney(0)}" },
				"localDocumentId": { "text": "localDocumentId", "type": "string", "visible": false }
			},
			"options": {
				"selection": false,
				"filter": true,
				"buttons": { "add": true, "edit": true, "delete": true, "view": true, "print": false, "copy": false }
			},
			"dataSource": { "url": "/dbapi/order" }
		}
	],
	"form": [{
		"type": "form",
		"fields": {
			"orderType": { "type": "hidden", "dataType": "string", "value": "normal" },
			"orderKey": { "text": "Sipariş Anahtarı", "type": "string", "col": 4, "required": true },
			"orderDate": { "text": "Tarih", "type": "date", "col": 3, "required": true },
			"orderLine": {
				"text": "Satırlar",
				"type": "grid",
				"fields": {

					"itemId": { "text": "Malzeme", "type": "remoteLookup", "html":"${description}<div class=\"d-md-flex justify-content-between\"><div class=\"bold\">#${name}</div><div class=\"text-muted small\">${ubb?'UBB:'+ubb:''} ${sut?'SUT:'+sut:''}</div> </div>",
					"dataSource":{
						"url":"/db/items",
						"label": "${name} ${description}${ubb || sut ?' - ':''}${ubb?'UBB:'+ubb:''} ${sut?'SUT:'+sut:''}"
					},
					"lookupTextField111":"itemName",
					"hiddenFields":{
						"itemName":"name",
						"itemDescription":"Aciklama: ${description}",
						"ubb":"ubb",
						"sut":"sut"
					}
				},
					"quantity": { "text": "Miktar", "type": "quantity", "round": 0 }
				},
				"options": {
					"selection": false,
					"filter": false,
					"confirmBeforeRemove": true,
					"buttons": {
						"add": true,
						"edit": true,
						"delete": true,
						"view": false,
						"print": false,
						"copy": false
					}
				}
			}
		},
		"dataSource": { "method": "GET", "url": "/dbapi/order" },
		"options":{
			"returnUrl":"/haham#/order/order-list"
		}
	}
]
}