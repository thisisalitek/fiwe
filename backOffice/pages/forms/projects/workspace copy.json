{
	"index":[
		{
			"type": "grid",
			"fields": {
				"name":{"text":"Name", "type":"string"},
				"docCount":{"text":"Document Count", "type":"string", "html":"${data.length}"},
				"importer":{"text":"Importer", "type":"remoteLookup", "dataSource":{"url":"/db/importers"}}
			},
			"options": {
				"selection": true,
				"filter": true,
				"buttons": {
					"add": true,
					"edit": true,
					"delete": true,
					"view": false,
					"print": false,
					"copy": true
				}
			},
			"dataSource": {
				"url":"/db/workspace"
			}

		}
	],
	"form": [
		{
			"type":"form",
			"fields": {
				"name":{"text":"Name", "type":"string","col":4},
				"importer":{"text":"Importer", "type":"remoteLookup","col":4, "dataSource":{"url":"/db/importers"}},
				
				"group1":{
					"text":"Data Import",
					"visible":false,
					"fields":{
						"newData":{"text":"Upload File", "type":"file", "col":4},
						"btnRunImporter":{"text":"Run Import", "type":"button", "href":"javascript:upload()", "col":4},
						"testResult":{"text":"New Data", "type":"code", "col":12, 
							"editorOptions":{ 
								"language":"json",
								"contextmenu":true,
								"tabSize":4
							}
						}
					}
				}
			},
			"dataSource": {
				"url":"/db/workspace"
			},
			"script":[
				"function upload(){",
				"let formData=bulkFormData('#mainCtrl #col_newData')",
				"if(formData.newData.data==''){",
				"return showError('Please upload a file.\\nhello world')",
				"}",
				"let data={",
				"repositoryId:hashObj.id || '',",
				"newData:formData.newData,",
				"}",
				"postMan('/db/importers/uploadFile',{type:'POST',data:data})",
				".then(result=>{ ",
				"document.querySelector('#testResult').editor.setValue(JSON.stringify(result,null,2))",
				"})",
				".catch(err=>{document.querySelector('#testResult').editor.setValue(JSON.stringify(err,null,2))})",
				"",
				"}",
				"$(document).on('loaded', function (e) {",
				"if(hashObj && hashObj.func=='edit'){",
				"document.querySelector('#col_card-group1').classList.remove('d-none')",
				"}",
				"$(this).off(e)",
				"})"
			]
		}
	],
	"data": [
		{
			"type":"form",
			"fields": {
				"name":{"text":"Name", "type":"string","col":3},
				"divisor1":{"type":"w-100"},
				"importer":{"text":"Importer", "type":"remoteLookup","col":4, "dataSource":{"url":"/db/importers"}},
				"group1":{
					"text":"Data Import",
					"visible":false,
					"fields":{
						"newData":{"text":"Upload File", "type":"file", "col":4},
						"btnRunImporter":{"text":"Run Import", "type":"button", "href":"javascript:upload()", "col":4},
						"testResult":{"text":"New Data", "type":"code", "col":12, 
							"editorOptions":{ 
								"language":"json",
								"contextmenu":true,
								"tabSize":4
							}
						}
					}
				}
			},
			"dataSource": {
				"url":"/db/workspace"
			},
			"script":[
				"function upload(){",
				"let formData=bulkFormData('#mainCtrl #col_newData')",
				"if(formData.newData.data==''){",
				"return showError('Please upload a file.\\nhello world')",
				"}",
				"let data={",
				"repositoryId:hashObj.id || '',",
				"newData:formData.newData,",
				"}",
				"postMan('/db/importers/uploadFile',{type:'POST',data:data})",
				".then(result=>{ ",
				"document.querySelector('#testResult').editor.setValue(JSON.stringify(result,null,2))",
				"})",
				".catch(err=>{document.querySelector('#testResult').editor.setValue(JSON.stringify(err,null,2))})",
				"",
				"}",
				"$(document).on('loaded', function (e) {",
				"if(hashObj && hashObj.func=='edit'){",
				"document.querySelector('#col_card-group1').classList.remove('d-none')",
				"}",
				"$(this).off(e)",
				"})"
			]
		}
	]
}